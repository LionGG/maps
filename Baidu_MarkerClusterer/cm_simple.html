<html>
<head>
	<meta http-equiv="Content-Type" />
	<title>ClusterMarker Simple</title>
	<style type="text/css">
		#mapDiv{ 
            height:400px; 
            width:800px;
        }
	</style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.1&services=true"></script>	
    <script type="text/javascript" src="markerclusterer.js"></script>
</head>
<body>
	<div id="mapDiv"></div>
    <input id="btnText"	type="button" value="改变Text"  />
    <input id="btnPoint" type="button" value="改变Point"  />
</body>
	
<script type="text/javascript">
	var map = new BMap.Map("mapDiv");            
	map.enableScrollWheelZoom();
	var point = new BMap.Point(116.404, 39.915);   
	map.centerAndZoom(point,13);      
        
    var marker = new  BMap.Marker(point);
    map.addOverlay(marker);
    
    
    var oldBounds = map.getBounds();
    var cm = new ClusterMarker(point,7);
    
    map.addOverlay(cm);
    map.addOverlay(new ClusterMarker(new BMap.Point(116.404, 39.885),15));
    map.addOverlay(new ClusterMarker(new BMap.Point(116.354, 39.915),24));
    map.addOverlay(new ClusterMarker(new BMap.Point(116.454, 39.915),48));
    map.addOverlay(new ClusterMarker(new BMap.Point(116.404, 39.945),99));
    

    var btnOpen = document.getElementById('btnText');
	btnOpen.onclick = function (event){		
        cm.setText(35);
	};
    
    var newPt = new BMap.Point(116.404, 39.895);
    var btnClose = document.getElementById('btnPoint');
	btnClose.onclick = function (){	
		cm.setPoint(newPt);
        marker.setPoint(newPt);
	};

</script>
	
</html>

